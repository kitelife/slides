% 从源码学习<br />如何正确使用<br />Yii框架
% 夏永锋
% 2014-11-26 @ 众成聚乐部

## 缘起

- 不是：
    1. 因为学霸
    2. 为了装B
    3. 工作不饱和
    4. 为了技术分享
- 是：
    1. 因为Yii的文档很渣
    2. 知其所以然


## 请求初始化

- `Yii::app()`应用容器
- 核心组件加载
- 配置加载 - params、components、urlManager等


## 路由解析分发

- 路由规则解析
    - 路由规则缓存
- 路由规则匹配
- 路由分发
- 过滤器， VS. `beforeAction`


## 组件集成

- 组件对象赋值逻辑
- init方法


## Model层实现

- 两种使用方式：
    1. CDbConnection + CDbCommand
    2. CActiveRecord
- 两种方式的关系
- Model层查询缓存
- CActiveRecord的Schema问题
- Model层即是一个抽象层


## 模板引擎集成

- 作为普通组件的问题
- 依赖于接口，而不依赖于实现


## 缓存

- 框架中哪些地方基于缓存进行性能优化？
- 支持多种缓存后端
- 多应用共缓存的key冲突问题
- 缓存依赖


## 应用模块化

- 应用与模块的关系与区别
    - 继承树
    - 组件配置
- 模块对路由的影响
- 模块嵌套，模块归属链
- 正常使用模块
    - 要么全部模块化，要么不使用模块
    - 不要使用模块嵌套


## 进一步阅读

- [Yii源码阅读笔记 系列](http://youngsterxyf.github.io/tag/yii.html)


## 谢 谢！